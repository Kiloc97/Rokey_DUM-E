# ğŸ¤– DUM-E: ROS2 ê¸°ë°˜ ë‘ì‚°ë¡œë³´í‹±ìŠ¤ ë¡œë´‡íŒ” ì œì–´ ì‹œìŠ¤í…œ

[![ROS 2](https://img.shields.io/badge/ROS2-Humble-blue.svg)](https://docs.ros.org/en/humble/)
[![Python](https://img.shields.io/badge/Python-3.8+-green.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

**DUM-E**ëŠ” ìŒì„± ì¸ì‹ì„ í†µí•´ ëª…ë ¹ì„ ë°›ì•„ ë¬¼ì²´ë¥¼ ì¸ì‹í•˜ê³  ì§‘ì–´ì„œ ì´ë™ì‹œí‚¤ëŠ” ROS 2 ê¸°ë°˜ì˜ ìŠ¤ë§ˆíŠ¸ ë¡œë´‡íŒ” ì œì–´ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

![DUM-E Demo](docs/images/demo.gif)
*ìŒì„± ëª…ë ¹ìœ¼ë¡œ ë„êµ¬ë¥¼ ê°€ì ¸ì˜¤ëŠ” DUM-E*

## ğŸ“‹ ëª©ì°¨

- [ğŸ¯ ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ğŸ—ï¸ ì‹œìŠ¤í…œ êµ¬ì¡°](#ï¸-ì‹œìŠ¤í…œ-êµ¬ì¡°)
- [âš™ï¸ ì„¤ì¹˜ ë° ì„¤ì •](#ï¸-ì„¤ì¹˜-ë°-ì„¤ì •)
- [ğŸš€ ì‹¤í–‰ ë°©ë²•](#-ì‹¤í–‰-ë°©ë²•)
- [ğŸ® ì‚¬ìš©ë²•](#-ì‚¬ìš©ë²•)
- [ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ğŸ¤ ê¸°ì—¬í•˜ê¸°](#-ê¸°ì—¬í•˜ê¸°)
- [ğŸ“„ ë¼ì´ì„ ìŠ¤](#-ë¼ì´ì„ ìŠ¤)

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### ğŸ¤ ìŒì„± ì¸ì‹ ê¸°ë°˜ ì œì–´
- **ì›¨ì´í¬ì—… ì›Œë“œ**: "Hello Rokey"ë¡œ ì‹œì‘
- **ìì—°ì–´ ëª…ë ¹ ì²˜ë¦¬**: OpenAI GPT-4ë¥¼ í™œìš©í•œ ì˜ë„ íŒŒì•…
- **í•œêµ­ì–´/ì˜ì–´ ì§€ì›**: ë‹¤êµ­ì–´ ìŒì„± ëª…ë ¹ ì¸ì‹

### ğŸ‘ï¸ ì»´í“¨í„° ë¹„ì „
- **YOLO ê¸°ë°˜ ë¬¼ì²´ ê²€ì¶œ**: ì‹¤ì‹œê°„ ë„êµ¬ ì¸ì‹
- **RealSense ì¹´ë©”ë¼**: ê¹Šì´ ì •ë³´ë¥¼ í™œìš©í•œ 3D ìœ„ì¹˜ ì¶”ì •
- **ë™ì  ëª¨ë¸ ì „í™˜**: ìƒí™©ë³„ ìµœì í™”ëœ ê²€ì¶œ ëª¨ë¸ ì‚¬ìš©

### ğŸ¦¾ ì •ë°€ ë¡œë´‡ ì œì–´
- **ë‘ì‚°ë¡œë³´í‹±ìŠ¤ M0609**: 6ì¶• ì‚°ì—…ìš© ë¡œë´‡íŒ”
- **OnRobot RG2 ê·¸ë¦¬í¼**: ì ì‘í˜• ê·¸ë¦½ ì œì–´
- **í˜ ì œì–´**: ì•ˆì „í•œ ë¬¼ì²´ ì§‘ê¸° ë° ë°°ì¹˜
- **ê²½ë¡œ ìµœì í™”**: íš¨ìœ¨ì ì¸ ë™ì‘ ê³„íš

## ğŸ—ï¸ ì‹œìŠ¤í…œ êµ¬ì¡°

```mermaid
graph TB
    A[ìŒì„± ì…ë ¥] --> B[STT & í‚¤ì›Œë“œ ì¶”ì¶œ]
    B --> C[ëª…ë ¹ í•´ì„]
    C --> D[ë¬¼ì²´ ê²€ì¶œ]
    D --> E[3D ìœ„ì¹˜ ê³„ì‚°]
    E --> F[ë¡œë´‡ ê²½ë¡œ ê³„íš]
    F --> G[ê·¸ë¦¬í¼ ì œì–´]
    G --> H[ì‘ì—… ì™„ë£Œ]
```

### ğŸ”§ ì£¼ìš” ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸ | ê¸°ëŠ¥ | ê¸°ìˆ  ìŠ¤íƒ |
|----------|------|-----------|
| **ìŒì„± ì²˜ë¦¬** | ìŒì„± ì¸ì‹ ë° ëª…ë ¹ í•´ì„ | OpenAI Whisper, GPT-4 |
| **ë¬¼ì²´ ì¸ì‹** | ì‹¤ì‹œê°„ ë„êµ¬ ê²€ì¶œ | YOLO v8, RealSense |
| **ë¡œë´‡ ì œì–´** | ë¡œë´‡íŒ” ëª¨ì…˜ ì œì–´ | DSR_ROBOT2, ROS 2 |
| **ê·¸ë¦¬í¼ ì œì–´** | ë¬¼ì²´ ì§‘ê¸°/ë†“ê¸° | OnRobot RG2 |

## âš™ï¸ ì„¤ì¹˜ ë° ì„¤ì •

### ğŸ“‹ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

#### í•˜ë“œì›¨ì–´
- ë‘ì‚°ë¡œë³´í‹±ìŠ¤ M0609 ë¡œë´‡íŒ”
- Intel RealSense D435i ì¹´ë©”ë¼
- OnRobot RG2 ê·¸ë¦¬í¼
- ë§ˆì´í¬ (USB ë˜ëŠ” ë‚´ì¥)

#### ì†Œí”„íŠ¸ì›¨ì–´
- Ubuntu 22.04 LTS
- ROS 2 Humble
- Python 3.8+
- CUDA 11.8+ (GPU ê°€ì†ìš©)

### ğŸš€ ì„¤ì¹˜ ê³¼ì •

1. **ì €ì¥ì†Œ í´ë¡ **
   ```bash
   git clone https://github.com/Kiloc97/Rokey_DUM-E.git
   cd Rokey_DUM-E
   ```

2. **ROS 2 ì˜ì¡´ì„± ì„¤ì¹˜**
   ```bash
   sudo apt update
   sudo apt install ros-humble-desktop-full
   source /opt/ros/humble/setup.bash
   ```

3. **Python íŒ¨í‚¤ì§€ ì„¤ì¹˜**
   ```bash
   pip install -r requirements.txt
   ```

4. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
   ```bash
   cp dum_e/resource/.env.example dum_e/resource/.env
   # .env íŒŒì¼ì„ ì—´ì–´ì„œ OpenAI API í‚¤ ì…ë ¥
   nano dum_e/resource/.env
   ```

5. **íŒ¨í‚¤ì§€ ë¹Œë“œ**
   ```bash
   colcon build --symlink-install
   source install/setup.bash
   ```

### ğŸ”‘ API í‚¤ ì„¤ì •

`.env` íŒŒì¼ì— ë‹¤ìŒ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”:

```bash
# OpenAI API Key (ìŒì„± ì¸ì‹ ë° í‚¤ì›Œë“œ ì¶”ì¶œìš©)
OPENAI_API_KEY=your_openai_api_key_here
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1ï¸âƒ£ ë¡œë´‡ ì—°ê²° í™•ì¸
```bash
# ë¡œë´‡ í†µì‹  ìƒíƒœ í™•ì¸
ping 192.168.1.100  # ë¡œë´‡ IP ì£¼ì†Œ
```

### 2ï¸âƒ£ ë…¸ë“œ ì‹¤í–‰ (3ê°œ í„°ë¯¸ë„ í•„ìš”)

**í„°ë¯¸ë„ 1: ë¬¼ì²´ ì¸ì‹ ë…¸ë“œ**
```bash
source install/setup.bash
ros2 run dum_e object_detection
```

**ï¿½ï¿½ë¯¸ë„ 2: ìŒì„± ì²˜ë¦¬ ë…¸ë“œ**
```bash
source install/setup.bash
ros2 run dum_e get_keyword
```

**í„°ë¯¸ë„ 3: ë¡œë´‡ ì œì–´ ë©”ì¸ ë…¸ë“œ**
```bash
source install/setup.bash
ros2 run dum_e robot_control
```

### 3ï¸âƒ£ ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
```bash
# ì‹¤í–‰ ì¤‘ì¸ ë…¸ë“œ í™•ì¸
ros2 node list

# í† í”½ í™•ì¸
ros2 topic list

# ì„œë¹„ìŠ¤ í™•ì¸
ros2 service list
```

## ğŸ® ì‚¬ìš©ë²•

### ğŸ—£ï¸ ê¸°ë³¸ ìŒì„± ëª…ë ¹

1. **ì›¨ì´í¬ì—…**: "Hello Rokey" ë˜ëŠ” "ì•ˆë…• ë¡œí‚¤"
2. **ëª…ë ¹ ì…ë ¥**: ì›í•˜ëŠ” ì‘ì—… ì„¤ëª…
3. **í™•ì¸**: "Yes", "ë„¤", "ë§ì•„" ë“±ìœ¼ë¡œ í™•ì¸

### ğŸ“ ì§€ì› ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ê¸°ëŠ¥ | ì˜ˆì‹œ |
|--------|------|------|
| `bring` | ë„êµ¬ ê°€ì ¸ì˜¤ê¸° | "Bring the hammer" |
| `clear` | ë„êµ¬ ì •ë¦¬í•˜ê¸° | "ì •ë¦¬í•´ì¤˜" |
| `hold` | ì•…ìˆ˜í•˜ê¸° | "Hold my hand" |
| `unhold` | ì•…ìˆ˜ í•´ì œ | "Let go" |

### ğŸ”§ ì¸ì‹ ê°€ëŠ¥í•œ ë„êµ¬ë“¤

| ë„êµ¬ëª… | ì˜ì–´ | í•œêµ­ì–´ | ìš©ë„ |
|--------|------|--------|------|
| `hammer` | Hammer | ë§ì¹˜ | ëª» ë°•ê¸° |
| `screwdriver` | Screwdriver | ë“œë¼ì´ë²„ | ë‚˜ì‚¬ ì¡°ì´ê¸° |
| `wrench` | Wrench | ë Œì¹˜ | ë³¼íŠ¸ ì¡°ì´ê¸° |
| `6wrench` | Hex Wrench | ìœ¡ê°ë Œì¹˜ | ìœ¡ê°ë³¼íŠ¸ |
| `monkey` | Monkey Wrench | ëª½í‚¤ìŠ¤íŒ¨ë„ˆ | íŒŒì´í”„ ì‘ì—… |
| `pipewrench` | Pipe Wrench | íŒŒì´í”„ë Œì¹˜ | ë°°ê´€ ì‘ì—… |
| `knief` | Knife | ì¹¼ | ì ˆë‹¨ ì‘ì—… |
| `voltcup` | Voltage Cup | ì „ì••ì»µ | ì „ê¸° ì¸¡ì • |
| `nutcup` | Nut Cup | ë„ˆíŠ¸ì»µ | ê²¬ê³¼ë¥˜ ë³´ê´€ |

### ğŸ’¬ ì‚¬ìš© ì˜ˆì‹œ

```
ğŸ‘¤ ì‚¬ìš©ì: "Hello Rokey"
ğŸ¤– DUM-E: [ì›¨ì´í¬ì—… ì¸ì‹]

ğŸ‘¤ ì‚¬ìš©ì: "Bring me the hammer and screwdriver"
ğŸ¤– DUM-E: "ì´ ëª…ë ¹ì´ ë§ë‚˜ìš”?"

ğŸ‘¤ ì‚¬ìš©ì: "Yes"
ğŸ¤– DUM-E: [ë§ì¹˜ì™€ ë“œë¼ì´ë²„ë¥¼ ì°¾ì•„ì„œ ê°€ì ¸ì˜´]
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Rokey_DUM-E/
â”œâ”€â”€ dum_e/                          # ë©”ì¸ ROS 2 íŒ¨í‚¤ì§€
â”‚   â”œâ”€â”€ package.xml                 # íŒ¨í‚¤ì§€ ì„¤ì •
â”‚   â”œâ”€â”€ setup.py                    # Python íŒ¨í‚¤ì§€ ì„¤ì •
â”‚   â”œâ”€â”€ robot_control.py            # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â”‚   â”œâ”€â”€ object_detection/           # ë¬¼ì²´ ì¸ì‹ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ detection.py            # ë©”ì¸ ê²€ì¶œ ë…¸ë“œ
â”‚   â”‚   â”œâ”€â”€ yolo.py                 # YOLO ëª¨ë¸ ë˜í¼
â”‚   â”‚   â”œâ”€â”€ realsense.py            # RealSense ì¹´ë©”ë¼ ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚   â””â”€â”€ direction.py            # ë°©í–¥ ê°ì§€
â”‚   â”œâ”€â”€ voice_processing/           # ìŒì„± ì²˜ë¦¬ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ get_keyword.py          # í‚¤ì›Œë“œ ì¶”ì¶œ ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ stt.py                  # ìŒì„±-í…ìŠ¤íŠ¸ ë³€í™˜
â”‚   â”‚   â”œâ”€â”€ wakeup_word.py          # ì›¨ì´í¬ì—… ì›Œë“œ ê°ì§€
â”‚   â”‚   â”œâ”€â”€ MicController.py        # ë§ˆì´í¬ ì œì–´
â”‚   â”‚   â””â”€â”€ teleop_key.py           # í‚¤ë³´ë“œ ì œì–´ (ê°œë°œìš©)
â”‚   â”œâ”€â”€ robot_control/              # ë¡œë´‡ ì œì–´ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ robot_control.py        # ë¡œë´‡ ì œì–´ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ motion_v2.py            # ëª¨ì…˜ ê³„íš
â”‚   â”‚   â””â”€â”€ onrobot.py              # ê·¸ë¦¬í¼ ì œì–´
â”‚   â””â”€â”€ resource/                   # ì„¤ì • ë° ëª¨ë¸ íŒŒì¼
â”‚       â”œâ”€â”€ .env.example            # í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿
â”‚       â”œâ”€â”€ *.pt                    # YOLO ëª¨ë¸ ê°€ì¤‘ì¹˜
â”‚       â”œâ”€â”€ T_gripper2camera.npy    # ì¹´ë©”ë¼ ë³€í™˜ í–‰ë ¬
â”‚       â””â”€â”€ class_name_tool.json    # í´ë˜ìŠ¤ ë§¤í•‘
â”œâ”€â”€ dum_e_interface/                # ì»¤ìŠ¤í…€ ë©”ì‹œì§€/ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ srv/                        # ì„œë¹„ìŠ¤ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ Command.srv             # ëª…ë ¹ ì„œë¹„ìŠ¤
â”‚   â”‚   â””â”€â”€ SrvDepthPosition.srv    # ìœ„ì¹˜ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ action/                     # ì•¡ì…˜ ì •ì˜
â”‚       â””â”€â”€ ActionDetection.action  # ê²€ì¶œ ì•¡ì…˜
â”œâ”€â”€ .gitignore                      # Git ì œì™¸ íŒŒì¼ ëª©ë¡
â””â”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ”§ ê³ ê¸‰ ì„¤ì •

### ğŸ“Š ì„±ëŠ¥ íŠœë‹

**GPU ê°€ì† í™œì„±í™”:**
```bash
# CUDA ì„¤ì¹˜ í™•ì¸
nvidia-smi

# GPU ë©”ëª¨ë¦¬ ì„¤ì •
export CUDA_VISIBLE_DEVICES=0
```

**ì¹´ë©”ë¼ ì„¤ì • ìµœì í™”:**
```python
# realsense.pyì—ì„œ í•´ìƒë„/FPS ì¡°ì •
pipeline.start(config)
```

### ğŸ¯ ì •í™•ë„ í–¥ìƒ

**YOLO ëª¨ë¸ í•™ìŠµ:**
```bash
# ì»¤ìŠ¤í…€ ë°ì´í„°ì…‹ìœ¼ë¡œ ì¬í•™ìŠµ
python train.py --data custom_tools.yaml --weights yolov8n.pt
```

**ìŒì„± ì¸ì‹ ê°œì„ :**
```python
# STT ëª¨ë¸ ë³€ê²½ (stt.py)
model = whisper.load_model("large-v2")
```
